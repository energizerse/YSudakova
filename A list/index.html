<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="libs.js"></script>

</head>

<body>

<script>
function arrayToList(array) {
    var list = { };
    
    for (var i = array.length - 1; i >= 0; i-- ) {
     if (i == array.length-1) {list.value = array[i]; list.rest = null;} 
     else {
      var prevList = {
       value: array[i],
       rest: list
      }
      list = prevList;
     }
    }
    
    return list;
}

function listToArray(list) {
	var a = [];
	for (var node = list; node; node = node.rest) {
		a.push(node.value);
	}
	return a;
  
}


function prepend(value, list) {
	return  {value : value, rest: list};
	
 
}

function nth(list, n, a) {
		if (a == null) { a = 0;}
		
		if (!list) return "undefined";
		
		if (a == n) {return list.value;}
		else  { return nth(list.rest, n, ++a); }
		 
}


console.log(arrayToList([10, 20]));
// → {value: 10, rest: {value: 20, rest: null}}
console.log(listToArray(arrayToList([10, 20, 30])));
// → [10, 20, 30]
console.log(prepend(10, prepend(20, null)));
// → {value: 10, rest: {value: 20, rest: null}}
console.log(nth(arrayToList([10, 20, 30]), 1));
// → 20
</script>
<script src="test.js"></script>
</body>

</html>